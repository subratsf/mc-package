---
title: Review SOAP Envelopes to Retrieve Information
---
The SOAP envelope represents (in XML format) all of the elements included within a message. You can use this SOAP envelope to review the information present in the message and use your preferred coding language to retrieve information from that envelope.

When reviewing SOAP envelopes, you see two different types of envelopes:
<ol><li>Request - the information passed from you to the API</li><li>Response - the information generated by the API after processing your request and returned to you</li>
</ol>

###The SOAP Request Envelope
The example below represents a typical SOAP request envelope:
```
<?xml version="1.0" encoding="UTF-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
  <soapenv:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soapenv:mustUnderstand="1">
      <wsse:UsernameToken xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1">
        <wsse:Username>XXXXX</wsse:Username>
        <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">XXXXX</wsse:Password>
      </wsse:UsernameToken>
    </wsse:Security>
    <wsa:To>https://YOUR_SUBDOMAIN.soap.marketingcloudapis.com/Service.asmx</wsa:To>
    <wsa:MessageID>urn:uuid:a4362473-88fa-45ef-82af-0acb5efcd505</wsa:MessageID>
    <wsa:Action>Update</wsa:Action>
  </soapenv:Header>
  <soapenv:Body>
    <par:UpdateRequest xmlns:par="http://exacttarget.com/wsdl/partnerAPI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <par:Options>
        <par:SaveOptions>
          <par:SaveOption>
            <par:PropertyName>*</par:PropertyName>
            <par:SaveAction>UpdateAdd</par:SaveAction>
          </par:SaveOption>
        </par:SaveOptions>
      </par:Options>
      <par:Objects xsi:type="par:DataExtensionObject">
        <par:Client>
          <par:ID>12345</par:ID>
        </par:Client>
        <par:PartnerKey xsi:nil="true"/>
        <par:ObjectID xsi:nil="true"/>
        <par:CustomerKey>SampleCustomerKey</par:CustomerKey>
        <par:Properties>
          <par:Property>
            <par:Name>Subscriber_Key</par:Name>
            <par:Value>13175555555</par:Value>
          </par:Property>
          <par:Property>
            <par:Name>List_ID</par:Name>
            <par:Value>1234</par:Value>
          </par:Property>
          <par:Property>
            <par:Name>Email_Address</par:Name>
            <par:Value>acruz@example.com</par:Value>
          </par:Property>
        </par:Properties>
      </par:Objects>
    </par:UpdateRequest>
  </soapenv:Body>
</soapenv:Envelope>
```
###The SOAP Response Envelope
The example below represents a typical SOAP response envelope.Use this envelope as the model for all calls in this technical article:
```
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:par="http://exacttarget.com/wsdl/partnerAPI">
  <par:Results xsi:type="DataExtensionUpdateResult">
    <par:StatusCode>OK</par:StatusCode>
    <par:StatusMessage>Updated DataExtensionObject</par:StatusMessage>
    <par:OrdinalID>0</par:OrdinalID>
    <par:Object xsi:type="DataExtensionObject">
      <par:Client>
        <par:ID>12345</par:ID>
      </par:Client>
      <par:PartnerKey xsi:nil="true"/>
      <par:ObjectID xsi:nil="true"/>
      <par:CustomerKey>SampleCustomerKey</par:CustomerKey>
      <par:Properties>
        <par:Property>
          <par:Name>Subscriber_Key</par:Name>
          <par:Value>13175555555</par:Value>
        </par:Property>
        <par:Property>
          <par:Name>List_ID</par:Name>
          <par:Value>1234</par:Value>
        </par:Property>
        <par:Property>
          <par:Name>Email_Address</par:Name>
          <par:Value>acruz@example.com</par:Value>
        </par:Property>
      </par:Properties>
    </par:Object>
  </par:Results>
  <par:RequestID>a5d36471-e636-478c-a29b-fd3571714602</par:RequestID>
  <par:OverallStatus>OK</par:OverallStatus>
</soap:Envelope>
```
The SOAP envelopes include a client ID value used to perform calls in sub-accounts, such as in an Enterprise 2.0 account. If you are performing the action in the same account you are logged into, you don't need to include this value.

###Error Message in SOAP Envelopes
In addition to retrieving information from SOAP envelopes, you can use them to get information about errors. The SOAP request below fails because no client ID is specified and the application could not find the applicable triggered send(as it was located in another account):

```
<?xml version="1.0" encoding="utf-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
  <soapenv:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soapenv:mustUnderstand="1">
      <wsse:UsernameToken xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1">
        <wsse:Username>XXXXX</wsse:Username>
        <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">XXXXX</wsse:Password>
      </wsse:UsernameToken>
    </wsse:Security>
    <wsa:To>https://YOUR_SUBDOMAIN.soap.marketingcloudapis.com/Service.asmx</wsa:To>
    <wsa:MessageID>urn:uuid:0805f203-3a1c-4c4d-907f-e1c290a16c47</wsa:MessageID>
    <wsa:Action>Create</wsa:Action>
  </soapenv:Header>
  <soapenv:Body>
    <par:CreateRequest xmlns:par="http://exacttarget.com/wsdl/partnerAPI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <par:Options/>
      <par:Objects xsi:type="par:TriggeredSend">
        <par:TriggeredSendDefinition>
          <par:PartnerKey xsi:nil="true"/>
          <par:ObjectID xsi:nil="true"/>
          <par:CustomerKey>SampleCustomerKey</par:CustomerKey>
        </par:TriggeredSendDefinition>
        <par:Subscribers>
          <par:EmailAddress>acruz@example.com</par:EmailAddress>
          <par:Attributes>
            <par:Name>FirstName</par:Name>
            <par:Value>Angela</par:Value>
          </par:Attributes>
          <par:SubscriberKey>acruz@example.com</par:SubscriberKey>
        </par:Subscribers>
      </par:Objects>
    </par:CreateRequest>
  </soapenv:Body>
</soapenv:Envelope>
```
The SOAP response envelope contains information about the error. In this case, the create request failed because no client ID was specified and the application could not find the applicable triggered send (as it was located in another account):
```
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <soap:Header>
    <wsa:Action>CreateResponse</wsa:Action>
    <wsa:MessageID>urn:uuid:418acec2-1bb7-479c-9122-f47fb2c00417</wsa:MessageID>
    <wsa:RelatesTo>urn:uuid:7019ac69-ba97-47af-8552-4476a8702c6a</wsa:RelatesTo>
    <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To>
  </soap:Header>
  <soap:Body>
    <CreateResponse xmlns:par="http://exacttarget.com/wsdl/partnerAPI">
      <par:Results xsi:type="TriggeredSendCreateResult">
        <par:StatusCode>Error</par:StatusCode>
        <par:StatusMessage>Invalid Customer Key</par:StatusMessage>
        <par:OrdinalID>0</par:OrdinalID>
        <par:ErrorCode>18002</par:ErrorCode>
        <par:NewID>0</par:NewID>
      </par:Results>
      <par:RequestID>17a0f752-bcf1-4872-9dbc-ee3aa35e9d4e</par:RequestID>
      <par:OverallStatus>Error</par:OverallStatus>
    </CreateResponse>
  </soap:Body>
</soap:Envelope>
```
You can review the successful request envelope below:
```
<?xml version="1.0" encoding="UTF-8"?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
  <soapenv:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">
    <wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soapenv:mustUnderstand="1">
      <wsse:UsernameToken xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1">
        <wsse:Username>XXXXX</wsse:Username>
        <wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">XXXXX</wsse:Password>
      </wsse:UsernameToken>
    </wsse:Security>
    <wsa:To>https://YOUR_SUBDOMAIN.soap.marketingcloudapis.com/Service.asmx</wsa:To>
    <wsa:MessageID>urn:uuid:80ed30c1-30d9-45ad-a556-f457fb279ac7</wsa:MessageID>
    <wsa:Action>Create</wsa:Action>
  </soapenv:Header>
  <soapenv:Body>
    <par:CreateRequest xmlns:par="http://exacttarget.com/wsdl/partnerAPI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <par:Options/>
      <par:Objects xsi:type="par:TriggeredSend">
        <par:Client>
          <par:ID>1063695</par:ID>
        </par:Client>
        <par:TriggeredSendDefinition>
          <par:PartnerKey xsi:nil="true"/>
          <par:ObjectID xsi:nil="true"/>
          <par:CustomerKey>SampleCustomerKey</par:CustomerKey>
        </par:TriggeredSendDefinition>
        <par:Subscribers>
          <par:EmailAddress>acruz@example.com</par:EmailAddress>
          <par:Attributes>
            <par:Name>FirstName</par:Name>
            <par:Value>Angela</par:Value>
          </par:Attributes>
          <par:Attributes>
            <par:Name>LastName</par:Name>
            <par:Value>Cruz</par:Value>
          </par:Attributes>
          <par:SubscriberKey>acruz@example.com</par:SubscriberKey>
        </par:Subscribers>
      </par:Objects>
    </par:CreateRequest>
  </soapenv:Body>
</soapenv:Envelope>
```
###Sample Java Axis2 Code
The call below retrieves the Status Code from the above SOAP envelope (identified in the <samp class="codeph nolang">`<par:StatusCode></par:StatusCode>`</samp> tags):
```
updateResponseDocument.getUpdateResponse().getResultsArray()[0].getStatusCode();
```
The call below retrieves the Status Message from the above SOAP envelope (identified in the <samp class="codeph nolang">`<par:StatusMessage></par:StatusMessage>`</samp> tags):
```
updateResponseDocument.getUpdateResponse().getResultsArray()[0].getStatusMessage();
```
The call below retrieves the Request ID from the above SOAP envelope (identified in the <samp class="codeph nolang">`<par:RequestID></par:RequestID>`</samp> tags):
```
updateResponseDocument.getUpdateResponse().getRequestID();
```
The call below retrieves the Overall Status from the SOAP envelope (identified in the <samp class="codeph nolang">`<par:OverallStatus></par:OverallStatus>`</samp> tags):
```
updateResponseDocument.getUpdateResponse().getOverallStatus();
```
Some environments (like Eclipse) auto-complete available methods, allowing you to choose the appropriate information to retrieve.

###Sample .NET Code
You can use trace logging to pull back information from SOAP request and response envelopes. Insert the following code into the web.config or app.config files (at the bottom of the configuration) in your development environment and modify the file path location (contained in the <strong>initializeData="..."</strong> section of the code) to save the information to your chosen file. From there, you can either manually or programmatically search for the desired information:
```
<!-- define trace logging -->
  <system.diagnostics>
    <trace autoflush="true"/>
    <sources>
      <source name="System.ServiceModel" switchValue="Information, ActivityTracing" propagateActivity="true">
        <listeners>
          <add name="xml"/>
        </listeners>
      </source>
      <source name="System.ServiceModel.MessageLogging">
        <listeners>
          <add name="xml"/>
        </listeners>
      </source>
    </sources>
    <sharedListeners>
      <add name="xml" type="System.Diagnostics.XmlWriterTraceListener" initializeData="C:\exampleLogs\etAPI_SOAP-Final.svclog"/>
    </sharedListeners>
  </system.diagnostics>
</configuration>
```
##Related Items
[Trace Logging](http://msdn.microsoft.com/en-us/library/ms730064.aspx)
